<html>
<head>
    <title>Arrya 내장함수</title>
</head>
<body>
    <div id = "div1"></div>
    <script>
        //toString()        //객체를 문자열로 변환
        var fruits1 = ["Banana", "Orange", "Apple"];
        console.log(fruits1.toString());

        //join()
        console.log(fruits1.join("*"));

        var txt1 = "Banana";
        txt1 += "Orange";
        txt1 += "Apple";

        console.log(txt1);                                      //console창
        document.getElementById("div1").innerHTML = txt1;       //화면

        var arr1 = [];
        arr1.push("Banana");
        arr1.push("Orange");
        arr1.push("Apple");
        // console.log(arr1);
        document.getElementById("div1").innerHTML = arr1.join("<br>");
        
        //pop() : 배열의 가장 마지막 항목을 제거하여 리턴 (잘라내기)
        var fruits2 = ["Banana", "Orange", "Apple"];
        var arr2 = fruits2.pop();
        console.log(arr2);
        console.log(fruits2);

        //push() : 배열의 가장 마지막에 새로운 항목을 추가
        fruits2.push("Kiwi");
        console.log(fruits2);

        // shift() : 배열의 첫번째 항목을 제거하여 리턴 (잘라내기)
        var fruits3 = ["Banana", "Orange", "Apple"];
        var str = fruits3.shift();
        console.log(str);
        console.log(fruits3);

        //unshift() : 배열의 첫번째 항목에 새로운 항목을 추가
        var fruits4 = ["Banana", "Orange", "Apple"];
        fruits4.unshift("Lemon");
        console.log(fruits4);

        fruits4[0] = "Grape";      //Lemon -> Grape
        console.log(fruits4);
        console.log(fruits4.length);
        fruits4[fruits4.length -1] = "Peach"
        console.log(fruits4);

        //★
        //splice(a,b) : a = 시작 위치, b = 삭제할 항목  //삭제, 추가 가능
        var fruits5 = ["Banana", "Orange", "Apple"];
        fruits5.splice(1, 2);
        console.log(fruits5);
        fruits5.splice(1, 0, "Lemon", "Kiwi");
        console.log(fruits5);
        fruits5.splice(1, 1, "Lemon", "Kiwi");
        console.log(fruits5);

        //concat() : 두 개의 배열을 하나로 만들어줌
        var a1 = ["A"];
        var a2 = ["B"];
        var alp = a1.concat(a2);
        console.log(alp);

        //slice(a, b)
        //a부터 b-1까지 항목을 가져옴
        var fruits6 = ["Banana", "Orange", "Apple"];
        // var fruits7 = fruits6.slice(1);
        // var fruits7 = fruits6.slice(1, 2);
        var fruits7 = fruits6.slice(1, 3);
        console.log(fruits7);

        //sort() : 정렬
        var fruits8 = ["Banana", "Orange", "Apple", "Lemon", "Kiwi"]
        console.log(fruits8.sort());

        var points = [40, 100, 70, 21, 99];
        console.log(points.sort())      //숫자를 문자로 인식하여 오름차순 정렬

        points.sort(function(a, b){
            if(a>b)
                return 1;   //return true     //오름차순 정렬
            else
                return -1;  //return false    //내림차순 정렬
        });

        points.sort(function(a, b) {
            // return a - b;       //오름차순
            return b - a;       //내림차순 
        });

        console.log(points)

        console.log(points.reverse())

        //Object 정렬
        var persons = [
            {name: "유재석", point:78},  //object 객체
            {name: "김종국", point:92},
            {name: "양세찬", point:76},
            {name: "하 하", point:81}
        ];

        console.log(persons.sort())    //object에는 정렬이 적용되지 않음

        persons.sort(function(a, b){
            if (a.point > b.point)
                return 1;
            else
                return -1;
        });
        console.log(persons);

        persons.sort(function(a, b){
            //삼항 연산자 이용
            // return(조건) ? true : false;
            return (a.point > b.point) ? 1 : -1;
        });
        console.log(persons);

        //★★★★★
        //filter : 조건에 맞는 배열만 리턴
        var persons = [
            {name: "유재석", point:78},  //object 객체
            {name: "김종국", point:92},
            {name: "양세찬", point:76},
            {name: "하 하", point:81}
        ];

        var pass = persons.filter(function(per){
            return per.point > 80;
        });

        console.log(pass);

        var persons = [
            {name: "유재석", point:78, city:"서울"},
            {name: "김종국", point:92, city : "대구"},
            {name: "양세찬", point:76, city : "서울"},
            {name: "하 하", point:81, city : "제주"}
        ];

        var seoul = [];
        for(var i = 0; i > persons.length; i++){
            if(persons[i].city === "서울")
                seoul.push(persons[i]);
        }

        var seoul = persons.filter(function(per){
            return per.city === "서울";
        });
        console.log(seoul);

        //★★★★★
        //reduce
        var arr3 = [1, 2, 3, 4];
        var total = 0;
        for(var x of arr3){
            // console.log(x)
            total += x;
        }
        console.log(total);

        // reduce(a, c)
        // a : accumulator = 누산기
        // c : currentValue = 현재값

        var arr4 = [1, 2, 3, 4];
        var total = arr4.reduce(function(a, c){
            return a + c;
        });
        console.log(total);

        // map() : filter와는 다른 형태로 새로운 배열을 생성
        var userList = [
            {firstName:"재석", lastName:"유", email:"yu@gamil.com"},
            {firstName:"종국", lastName:"김", email:"kim@gamil.com"},
            {firstName:"세찬", lastName:"양", email:"yang@gamil.com"},
            {firstName:"석진", lastName:"지", email:"ji@gamil.com"}
        ];

        var userList2 = userList.map(function(user){
           return {fullName:user.lastName + user.firstName, 
                    fN:user.firstName, 
                    lN:user.lastName} 
        });

        console.log(userList2);
    </script>

</body>
</html>